<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<title>MySQL 变量 | 时代残党</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="icon" href="/favicon.png">
<meta name="description" content="本文仅记录 MySQL 中本地变量和用户变量的相同和不同。 TL;DR;感觉英文还行的看官，请直接移步 参考链接 查看 MySQL 官方文档。 相同点：都可以使用 SET 语句赋值。 不同点    本地变量 用户变量    变量名称格式 不以@开头 必须以@开头   是否需要DECLARE ✔️ ❌   常见使用场景 存储过程 即时查询窗口   存在作用域 当前存储过程 当前会话    The s">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 变量">
<meta property="og:url" content="https://zxs66.github.io/2021/03/25/MySQL-variables/">
<meta property="og:site_name" content="时代残党">
<meta property="og:description" content="本文仅记录 MySQL 中本地变量和用户变量的相同和不同。 TL;DR;感觉英文还行的看官，请直接移步 参考链接 查看 MySQL 官方文档。 相同点：都可以使用 SET 语句赋值。 不同点    本地变量 用户变量    变量名称格式 不以@开头 必须以@开头   是否需要DECLARE ✔️ ❌   常见使用场景 存储过程 即时查询窗口   存在作用域 当前存储过程 当前会话    The s">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-25T14:42:51.000Z">
<meta property="article:modified_time" content="2022-11-08T14:11:27.193Z">
<meta property="article:author" content="时代残党">
<meta property="article:tag" content="mysql">
<meta property="article:tag" content="variable">
<meta name="twitter:card" content="summary">
<link rel="dns-prefetch" href="https://cdn.bootcdn.net/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://fonts.gstatic.com/">
<meta name="baidu-site-verification" content="1W34rVIdAO" />

<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous" integrity="sha256-eZrrJcwDc&#x2F;3uDhsdt61sL2oOBY362qM3lon1gyExkL0&#x3D; sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN sha512-SfTiTlX6kk+qitfevl&#x2F;7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+&#x2F;Sw&#x3D;&#x3D;">


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro" />


<link rel="stylesheet" href="/css/style.css">

<link rel="manifest" href="/manifest.json">
<script type="module" src="/pwabuilder-sw-register.js"></script>
<!-- 百度统计 -->
<script>
var _hmt = _hmt || [];
(function () {
var hm = document.createElement("script");
hm.src = "https://hm.baidu.com/hm.js?de1c4b02a9f8a51a6001797e045d3af9";
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(hm, s);
})();
</script>
</head><body>
<div id="container">
<div id="wrap">
<header id="header">
<div id="banner"></div>
<div id="header-outer" class="outer">
<div id="header-title" class="inner">
<h1 id="logo-wrap">
<a href="/" id="logo">时代残党</a>
</h1>

<h2 id="subtitle-wrap">
<a href="/" id="subtitle">随手笔记</a>
</h2>

</div>
<div id="header-inner" class="inner">
<nav id="main-nav">
<a id="main-nav-toggle" class="nav-icon"></a>

<a class="main-nav-link" href="/">首页</a>

<a class="main-nav-link" href="/archives">归档</a>

<a class="main-nav-link" href="/app">联系我</a>

</nav>
<div id="search-form-wrap">
<div class="search-form"><input type="search" name="wd" class="search-form-input" placeholder="Search" list="search-datalist" autocomplete="false"/></div>

<input type="hidden" id="search-index-file" value="/search.json" />
<div id="search-form-datalist"></div>

</div>
<nav id="sub-nav">

<a id="nav-search-btn" class="nav-icon" title="搜索"></a>
</nav>
</div>
</div>
</header>
<div class="outer">
<section id="main">
<article id="post-MySQL-variables" class="article article-type-post" itemscope itemprop="blogPost">
<div class="article-meta">
<a href="/2021/03/25/MySQL-variables/" class="article-date">
  <time datetime="2021-03-25T14:42:51.000Z" itemprop="datePublished">2021-03-25</time>
</a>

</div>
<div class="article-inner">


<header class="article-header">
  
    <h1 class="article-title" itemprop="name">
      MySQL 变量
    </h1>
  
</header>

<div class="article-entry" itemprop="articleBody">
<p>本文仅记录 MySQL 中本地变量和用户变量的相同和不同。</p>
<h3 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR;"></a>TL;DR;</h3><p>感觉英文还行的看官，请直接移步 <a href="#参考链接">参考链接</a> 查看 MySQL 官方文档。</p>
<h5 id="相同点："><a href="#相同点：" class="headerlink" title="相同点："></a>相同点：</h5><p>都可以使用 SET 语句赋值。</p>
<h5 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h5><table>
<thead>
<tr>
<th></th>
<th>本地变量</th>
<th>用户变量</th>
</tr>
</thead>
<tbody><tr>
<td>变量名称格式</td>
<td>不以@开头</td>
<td>必须以@开头</td>
</tr>
<tr>
<td>是否需要DECLARE</td>
<td>✔️</td>
<td>❌</td>
</tr>
<tr>
<td>常见使用场景</td>
<td>存储过程</td>
<td>即时查询窗口</td>
</tr>
<tr>
<td>存在作用域</td>
<td>当前存储过程</td>
<td>当前会话</td>
</tr>
</tbody></table>
<blockquote>
<p>The scope of a local variable is the BEGIN … END block within which it is declared. The variable can be referred to in blocks nested within the declaring block, except those blocks that declare a variable with the same name. Because local variables are in scope only during stored program execution, references to them are not permitted in prepared statements created within a stored program. Prepared statement scope is the current session, not the stored program, so the statement could be executed after the program ends, at which point the variables would no longer be in scope. For example, SELECT … INTO local_var cannot be used as a prepared statement. </p>
</blockquote>
<blockquote>
<p>User-defined variables are session specific. A user variable defined by one client cannot be seen or used by other clients. (Exception: A user with access to the Performance Schema user_variables_by_thread table can see all user variables for all sessions.) All variables for a given client session are automatically freed when that client exits.</p>
</blockquote>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/user-variables.html" target="_blank" rel="noopener">MySQL::User-Defined Variables</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/local-variable-scope.html" target="_blank" rel="noopener">MySQL::Local Variable Scope and Resolution</a></li>
<li><a href="https://www.delftstack.com/howto/mysql/mysql-declare-variable/" target="_blank" rel="noopener">Declare and Use Variables in MySQL</a></li>
</ul>

</div>
<footer class="article-footer">
<a data-url="https://zxs66.github.io/2021/03/25/MySQL-variables/" data-id="clbrr63fm0010m08ch27wg9t9" data-title="MySQL 变量" class="article-share-link">分享</a>


  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/variable/" rel="tag">variable</a></li></ul>

</footer>
</div>

<nav id="article-nav">
  
    <a href="/2021/04/11/CORS-review/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">更新</strong>
      <div class="article-nav-title">
        
          CORS 复习
        
      </div>
    </a>
  
  
    <a href="/2021/03/14/ASP-NET-MVC-Forms-Authentication/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">更早</strong>
      <div class="article-nav-title">ASP.NET MVC 表单认证</div>
    </a>
  
</nav>

</article>


</section>

</div>
<footer id="footer">

<div class="outer"><div id="footer-info" class="inner">&copy; 2022 时代残党<br>
Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></div>
</div></footer>
</div>
<nav id="mobile-nav">

<a href="/" class="mobile-nav-link">home</a>

<a href="/archives" class="mobile-nav-link">archives</a>

<a href="/app" class="mobile-nav-link">contact</a>

</nav>
<!--

<script src="https://cdn.bootcdn.net/ajax/libs/jquery/2.0.3/jquery.min.js" crossorigin="anonymous" integrity="sha256-pXtSQrmprcTB74RsNlFHuJxHK5zXcPrOMx78uWU0ayU&#x3D; sha384-ECTndYny330R2jlSXBiZkdXzAVi0Z&#x2F;iDXJTwV6cp39HECmalqg6+b2sFZFf&#x2F;Y2m6 sha512-epzJ9ms+0Pq+zFMrG1lXVNvjEXgtfKx9iuEWqz3hmbaU2m&#x2F;Dp1pcmpYzuSdDLqX6PMIjzMOyGFwMc+SkgFhMFg&#x3D;&#x3D;"></script>

-->

<script src="/js/script.js" async></script>

</div>
<script>
(function () {
// append image-caption
const images = document.querySelectorAll('article img');
for (let j = 0; j < images.length; j++) {
const $img = images[j];
const altText = $img.getAttribute('alt');
if (altText && altText.length && !$img.classList.contains('inline')) {
const $imgCaption = document.createElement('div');
$imgCaption.classList.add('img-caption');
$imgCaption.innerText = $img.getAttribute('alt');
$img.parentNode.insertBefore($imgCaption, $img.nextSibling);
}}})();
</script>
</body></html>